# –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –º–æ–¥—É–ª—è AUSN Data Parser

## –û–±–∑–æ—Ä

–ú–æ–¥—É–ª—å `ausn-parser` - —ç—Ç–æ –∞–≤—Ç–æ–Ω–æ–º–Ω—ã–π –ø–∞—Ä—Å–µ—Ä –¥–∞–Ω–Ω—ã—Ö –ê–£–°–ù, –∫–æ—Ç–æ—Ä—ã–π —Ä–∞–±–æ—Ç–∞–µ—Ç –æ—Ç–¥–µ–ª—å–Ω–æ –æ—Ç –æ—Å–Ω–æ–≤–Ω–æ–≥–æ –ø—Ä–æ–µ–∫—Ç–∞ –∏ –æ–±–Ω–æ–≤–ª—è–µ—Ç —Å–ø—Ä–∞–≤–æ—á–Ω–∏–∫–∏ —Ä–µ–≥–∏–æ–Ω–æ–≤ –∏ –±–∞–Ω–∫–æ–≤ —Å —Å–∞–π—Ç–∞ –§–ù–°.

**–°—Ç–∞—Ç—É—Å:** ‚úÖ –ü–æ–ª–Ω–æ—Å—Ç—å—é —Ä–∞–±–æ—Ç–æ—Å–ø–æ—Å–æ–±–µ–Ω  
**–í–µ—Ä—Å–∏—è –ø–∞—Ä—Å–µ—Ä–∞:** 1.0.0  
**–î–∞—Ç–∞ –∑–∞–ø—É—Å–∫–∞:** 11 –æ–∫—Ç—è–±—Ä—è 2025  
**–ò—Å—Ç–æ—á–Ω–∏–∫ –¥–∞–Ω–Ω—ã—Ö:** https://ausn.nalog.gov.ru/

**–†–∞—Å–ø–æ–ª–æ–∂–µ–Ω–∏–µ:** `D:\DATA\ausn-parser\`  
**–†–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π –æ—Å–Ω–æ–≤–Ω–æ–≥–æ –ø—Ä–æ–µ–∫—Ç–∞:** `D:\DATA\AUSN_V1\`

### –¢–µ–∫—É—â–∏–µ –¥–∞–Ω–Ω—ã–µ:
- ‚úÖ **69 —Ä–µ–≥–∏–æ–Ω–æ–≤** (–∞–∫—Ç–∏–≤–Ω—ã–µ —Ä–µ–≥–∏–æ–Ω—ã —Å –∫–æ–¥–∞–º–∏ –æ—Ç 01 –¥–æ 99)
- ‚úÖ **11 —É–ø–æ–ª–Ω–æ–º–æ—á–µ–Ω–Ω—ã—Ö –±–∞–Ω–∫–æ–≤** (–ò–ù–ù, –û–ì–†–ù, –Ω–∞–∑–≤–∞–Ω–∏–µ, –¥–∞—Ç–∞ –≤–∫–ª—é—á–µ–Ω–∏—è –≤ —Ä–µ–µ—Å—Ç—Ä)

## –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏

```
ausn-parser/              # –û—Ç–¥–µ–ª—å–Ω—ã–π –º–æ–¥—É–ª—å –ø–∞—Ä—Å–µ—Ä–∞
  ‚îú‚îÄ‚îÄ output/
  ‚îÇ   ‚îú‚îÄ‚îÄ regions.json   <----‚îê
  ‚îÇ   ‚îî‚îÄ‚îÄ banks.json     <----‚î§
  ‚îÇ                           ‚îÇ
AUSN_V1/                      ‚îÇ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ (npm run update-data)
  ‚îî‚îÄ‚îÄ public/                 ‚îÇ
      ‚îî‚îÄ‚îÄ data/               ‚îÇ
          ‚îú‚îÄ‚îÄ regions.json ----‚îò
          ‚îî‚îÄ‚îÄ banks.json ------‚îò
```

## –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö –≤ –ø—Ä–æ–µ–∫—Ç–µ

### –ó–∞–≥—Ä—É–∑–∫–∞ –¥–∞–Ω–Ω—ã—Ö –≤–æ —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥–µ

```typescript
// components/calculator-ausn/utils.ts

export async function loadRegions() {
  try {
    const res = await fetch(`/data/regions.json?v=${Date.now()}`)
    const json = await res.json()
    return json.data // –ú–∞—Å—Å–∏–≤ —Ä–µ–≥–∏–æ–Ω–æ–≤
  } catch (error) {
    console.error('–û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ —Ä–µ–≥–∏–æ–Ω–æ–≤:', error)
    // –í–æ–∑–≤—Ä–∞—Ç –¥–µ—Ñ–æ–ª—Ç–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö
    return DEFAULT_REGIONS
  }
}

export async function loadBanks() {
  try {
    const res = await fetch(`/data/banks.json?v=${Date.now()}`)
    const json = await res.json()
    return json.data // –ú–∞—Å—Å–∏–≤ –±–∞–Ω–∫–æ–≤
  } catch (error) {
    console.error('–û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ –±–∞–Ω–∫–æ–≤:', error)
    return DEFAULT_BANKS
  }
}
```

### –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –≤ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞—Ö

```typescript
// components/calculator-ausn/CalculatorForm.tsx

import { useState, useEffect } from 'react'
import { loadRegions } from './utils'

export function CalculatorForm() {
  const [regions, setRegions] = useState([])
  
  useEffect(() => {
    loadRegions().then(setRegions)
  }, [])
  
  return (
    <select>
      {regions.map(r => (
        <option key={r.code} value={r.code}>
          {r.name}
        </option>
      ))}
    </select>
  )
}
```

## –î–µ—Ç–∞–ª–∏ –ø–∞—Ä—Å–∏–Ω–≥–∞ –¥–∞–Ω–Ω—ã—Ö

### üìç –†–µ–≥–∏–æ–Ω—ã (69 –∞–∫—Ç–∏–≤–Ω—ã—Ö)

**–ò—Å—Ç–æ—á–Ω–∏–∫:** –ü–µ—Ä–≤–∞—è —Ç–∞–±–ª–∏—Ü–∞ –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ https://ausn.nalog.gov.ru/  

**–°—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–∞–Ω–Ω—ã—Ö:**
```json
{
  "code": "77",
  "name": "–≥. –ú–æ—Å–∫–≤–∞"
}
```

**–ê–ª–≥–æ—Ä–∏—Ç–º:**
- –ü–æ–∏—Å–∫ —Ç–∞–±–ª–∏—Ü—ã –ø–æ –∑–∞–≥–æ–ª–æ–≤–∫—É "–ö–æ–¥ —Ä–µ–≥–∏–æ–Ω–∞" –∏–ª–∏ "–ù–∞–∏–º–µ–Ω–æ–≤–∞–Ω–∏–µ"
- –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è: –∫–æ–¥ –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å 1-2 —Ü–∏—Ñ—Ä—ã (—Ä–µ–≥—É–ª—è—Ä–Ω–æ–µ –≤—ã—Ä–∞–∂–µ–Ω–∏–µ `/^\d{1,2}$/`)
- –ò—Å–∫–ª—é—á–µ–Ω–∏–µ —Å—Ç—Ä–æ–∫ –∑–∞–≥–æ–ª–æ–≤–∫–æ–≤ –∏ –Ω–µ–∞–∫—Ç–∏–≤–Ω—ã—Ö —Ä–µ–≥–∏–æ–Ω–æ–≤

### üè¶ –ë–∞–Ω–∫–∏ (11 —É–ø–æ–ª–Ω–æ–º–æ—á–µ–Ω–Ω—ã—Ö)

**–ò—Å—Ç–æ—á–Ω–∏–∫:** –¢–∞–±–ª–∏—Ü–∞ "–ü–µ—Ä–µ—á–µ–Ω—å —É–ø–æ–ª–Ω–æ–º–æ—á–µ–Ω–Ω—ã—Ö –∫—Ä–µ–¥–∏—Ç–Ω—ã—Ö –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–π"  

**–°—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–∞–Ω–Ω—ã—Ö:**
```json
{
  "inn": "7707083893",
  "ogrn": "1027700132195",
  "name": "–ü–ê–û –°–±–µ—Ä–±–∞–Ω–∫",
  "dateAdded": "27.06.2022"
}
```

**–°–ø–∏—Å–æ–∫ –±–∞–Ω–∫–æ–≤:**
1. –ê–û –ö–ë ¬´–ú–æ–¥—É–ª—å–±–∞–Ω–∫¬ª - 23.06.2022
2. –ü–ê–û –°–±–µ—Ä–±–∞–Ω–∫ - 27.06.2022
3. –ê–û ¬´–ê–ª—å—Ñ–∞-–ë–∞–Ω–∫¬ª - 27.06.2022
4. –ü–ê–û ¬´–ü—Ä–æ–º—Å–≤—è–∑—å–±–∞–Ω–∫¬ª - 28.06.2022
5. –ê–û ¬´–¢–ë–∞–Ω–∫¬ª - 26.07.2022
6. –ü–ê–û –ë–∞–Ω–∫ –í–¢–ë - 10.08.2022
7. –ü–ê–û –ê–ö–ë ¬´–ê–ö –ë–ê–†–°¬ª - 03.11.2022
8. –û–û–û ¬´–ë–õ–ê–ù–ö –ë–ê–ù–ö¬ª - 09.01.2023
9. –û–û–û ¬´–ë–∞–Ω–∫ –¢–æ—á–∫–∞¬ª - 13.03.2023
10. –ê–û ¬´–†–æ—Å—Å–µ–ª—å—Ö–æ–∑–±–∞–Ω–∫¬ª - 24.04.2023
11. –ü–ê–û ¬´–°–î–ú-–ë–∞–Ω–∫¬ª - 12.08.2024

**–ê–ª–≥–æ—Ä–∏—Ç–º:**
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –ø–æ–∏—Å–∫ —Ç–∞–±–ª–∏—Ü—ã –ø–æ –∑–∞–≥–æ–ª–æ–≤–∫–∞–º "–ò–ù–ù" –∏ "–ù–∞–∏–º–µ–Ω–æ–≤–∞–Ω–∏–µ"
- –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è: –ò–ù–ù –¥–æ–ª–∂–µ–Ω —Å–æ–¥–µ—Ä–∂–∞—Ç—å —Ç–æ–ª—å–∫–æ —Ü–∏—Ñ—Ä—ã
- –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –Ω–∞–π–¥–µ–Ω–Ω–æ–π —Ç–∞–±–ª–∏—Ü—ã –¥–ª—è –æ—Ç–ª–∞–¥–∫–∏

## –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö

### –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ

–ü–∞—Ä—Å–µ—Ä –Ω–∞—Å—Ç—Ä–æ–µ–Ω –Ω–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ **2 —Ä–∞–∑–∞ –≤ –Ω–µ–¥–µ–ª—é**:
- üóìÔ∏è **–ü–æ–Ω–µ–¥–µ–ª—å–Ω–∏–∫** –≤ 07:00
- üóìÔ∏è **–ü—è—Ç–Ω–∏—Ü–∞** –≤ 07:00

### –ù–∞—Å—Ç—Ä–æ–π–∫–∞ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏—è

–†–∞—Å–ø–∏—Å–∞–Ω–∏–µ –ø–∞—Ä—Å–µ—Ä–∞ –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞–µ—Ç—Å—è –≤ —Ñ–∞–π–ª–µ `data/site-config.json`:

```json
{
  "parser": {
    "enabled": true,
    "schedule": {
      "cron": "0 7 * * 1,5",
      "description": "–ü–æ–Ω–µ–¥–µ–ª—å–Ω–∏–∫ –∏ –ø—è—Ç–Ω–∏—Ü–∞ –≤ 07:00",
      "timezone": "Europe/Moscow"
    },
    "autoUpdate": true,
    "retryAttempts": 3,
    "retryDelay": 5000
  }
}
```

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã:**
- `enabled` - –≤–∫–ª—é—á–∏—Ç—å/–≤—ã–∫–ª—é—á–∏—Ç—å –ø–∞—Ä—Å–µ—Ä (true/false)
- `cron` - —Ä–∞—Å–ø–∏—Å–∞–Ω–∏–µ –≤ —Ñ–æ—Ä–º–∞—Ç–µ cron (`–º–∏–Ω—É—Ç–∞ —á–∞—Å –¥–µ–Ω—å –º–µ—Å—è—Ü –¥–µ–Ω—å_–Ω–µ–¥–µ–ª–∏`)
- `description` - –æ–ø–∏—Å–∞–Ω–∏–µ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏—è –¥–ª—è –ª–æ–≥–æ–≤
- `timezone` - —á–∞—Å–æ–≤–æ–π –ø–æ—è—Å
- `autoUpdate` - –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ (true/false)
- `retryAttempts` - –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø–æ–ø—ã—Ç–æ–∫ –ø—Ä–∏ –æ—à–∏–±–∫–µ
- `retryDelay` - –∑–∞–¥–µ—Ä–∂–∫–∞ –º–µ–∂–¥—É –ø–æ–ø—ã—Ç–∫–∞–º–∏ (–º—Å)

**–ü—Ä–∏–º–µ—Ä—ã cron-—Ä–∞—Å–ø–∏—Å–∞–Ω–∏–π:**
- `0 7 * * 1,5` - –ø–æ–Ω–µ–¥–µ–ª—å–Ω–∏–∫ –∏ –ø—è—Ç–Ω–∏—Ü–∞ –≤ 07:00
- `0 3 * * 0` - –∫–∞–∂–¥–æ–µ –≤–æ—Å–∫—Ä–µ—Å–µ–Ω—å–µ –≤ 03:00
- `0 */6 * * *` - –∫–∞–∂–¥—ã–µ 6 —á–∞—Å–æ–≤
- `0 9 * * 1-5` - –∫–∞–∂–¥—ã–π –±—É–¥–Ω–∏–π –¥–µ–Ω—å –≤ 09:00

–ü–æ—Å–ª–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö –≤ `ausn-parser/output/`, –Ω—É–∂–Ω–æ —Å–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å –∏—Ö –≤ –ø—Ä–æ–µ–∫—Ç:

```bash
cd D:\DATA\AUSN_V1
npm run update-data
```

### –†—É—á–Ω–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ

–ï—Å–ª–∏ –Ω—É–∂–Ω–æ –æ–±–Ω–æ–≤–∏—Ç—å –¥–∞–Ω–Ω—ã–µ –Ω–µ–º–µ–¥–ª–µ–Ω–Ω–æ:

```bash
# 1. –ó–∞–ø—É—Å—Ç–∏—Ç—å –ø–∞—Ä—Å–µ—Ä
cd D:\DATA\ausn-parser
npm run parse:once

# 2. –°–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å –¥–∞–Ω–Ω—ã–µ –≤ –ø—Ä–æ–µ–∫—Ç
cd D:\DATA\AUSN_V1
npm run update-data

# 3. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Ñ–∞–π–ª—ã
dir public\data
```

### –ê–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è —á–µ—Ä–µ–∑ Git hooks

–°–æ–∑–¥–∞–π—Ç–µ `.githooks/post-merge` –¥–ª—è –∞–≤—Ç–æ–æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –ø–æ—Å–ª–µ pull:

```bash
#!/bin/sh
echo "–û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö –ê–£–°–ù..."
npm run update-data
```

## –§–æ—Ä–º–∞—Ç –¥–∞–Ω–Ω—ã—Ö

### regions.json

```json
{
  "version": "2025-10-11",
  "lastUpdate": "2025-10-11T03:00:00Z",
  "source": "nalog.gov.ru",
  "count": 4,
  "data": [
    {
      "code": "77",
      "name": "–≥. –ú–æ—Å–∫–≤–∞"
    }
  ]
}
```

**–ü–æ–ª—è:**
- `version` - –¥–∞—Ç–∞ –≤–µ—Ä—Å–∏–∏ –¥–∞–Ω–Ω—ã—Ö (YYYY-MM-DD)
- `lastUpdate` - —Ç–æ—á–Ω–æ–µ –≤—Ä–µ–º—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è (ISO 8601)
- `source` - –∏—Å—Ç–æ—á–Ω–∏–∫ –¥–∞–Ω–Ω—ã—Ö
- `count` - –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∑–∞–ø–∏—Å–µ–π
- `data` - –º–∞—Å—Å–∏–≤ —Ä–µ–≥–∏–æ–Ω–æ–≤
  - `code` - –∫–æ–¥ —Ä–µ–≥–∏–æ–Ω–∞
  - `name` - –Ω–∞–∑–≤–∞–Ω–∏–µ —Ä–µ–≥–∏–æ–Ω–∞

### banks.json

```json
{
  "version": "2025-10-11",
  "lastUpdate": "2025-10-11T03:00:00Z",
  "source": "nalog.gov.ru",
  "count": 8,
  "data": [
    {
      "bic": "044525974",
      "name": "–¢–∏–Ω—å–∫–æ—Ñ—Ñ –ë–∞–Ω–∫",
      "website": "https://www.tinkoff.ru/business/ausn/",
      "onlineApplication": true
    }
  ]
}
```

**–ü–æ–ª—è:**
- `bic` - –ë–ò–ö –±–∞–Ω–∫–∞
- `name` - –Ω–∞–∑–≤–∞–Ω–∏–µ –±–∞–Ω–∫–∞
- `website` - —Å–∞–π—Ç –¥–ª—è –ê–£–°–ù
- `onlineApplication` - –¥–æ—Å—Ç—É–ø–Ω–∞ –ª–∏ –æ–Ω–ª–∞–π–Ω-–∑–∞—è–≤–∫–∞

## –ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ

### –ù–∞ –∫–ª–∏–µ–Ω—Ç–µ

–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ query –ø–∞—Ä–∞–º–µ—Ç—Ä `?v=${timestamp}` –¥–ª—è –æ–±—Ö–æ–¥–∞ –∫—ç—à–∞ –±—Ä–∞—É–∑–µ—Ä–∞:

```javascript
fetch(`/data/regions.json?v=${Date.now()}`)
```

### –ù–∞ —Å–µ—Ä–≤–µ—Ä–µ (Next.js)

–ù–∞—Å—Ç—Ä–æ–π—Ç–µ –∑–∞–≥–æ–ª–æ–≤–∫–∏ –≤ `next.config.mjs`:

```javascript
async headers() {
  return [
    {
      source: '/data/:path*.json',
      headers: [
        {
          key: 'Cache-Control',
          value: 'public, max-age=86400, stale-while-revalidate=604800',
        },
      ],
    },
  ]
}
```

### React Query / SWR

```typescript
import useSWR from 'swr'

function useRegions() {
  const { data, error } = useSWR('/data/regions.json', fetcher, {
    revalidateOnFocus: false,
    revalidateOnReconnect: false,
    refreshInterval: 86400000, // 24 —á–∞—Å–∞
  })
  
  return {
    regions: data?.data || [],
    isLoading: !error && !data,
    isError: error
  }
}
```

## Fallback —Å—Ç—Ä–∞—Ç–µ–≥–∏—è

–í—Å–µ–≥–¥–∞ –∏–º–µ–π—Ç–µ –¥–µ—Ñ–æ–ª—Ç–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –Ω–∞ —Å–ª—É—á–∞–π –Ω–µ–¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏ JSON:

```typescript
// calculator-config.ts

export const DEFAULT_REGIONS = [
  { code: "77", name: "–≥. –ú–æ—Å–∫–≤–∞" },
  { code: "50", name: "–ú–æ—Å–∫–æ–≤—Å–∫–∞—è –æ–±–ª–∞—Å—Ç—å" },
  { code: "40", name: "–ö–∞–ª—É–∂—Å–∫–∞—è –æ–±–ª–∞—Å—Ç—å" },
  { code: "16", name: "–†–µ—Å–ø—É–±–ª–∏–∫–∞ –¢–∞—Ç–∞—Ä—Å—Ç–∞–Ω" }
]

export const DEFAULT_BANKS = [
  {
    bic: "044525974",
    name: "–¢–∏–Ω—å–∫–æ—Ñ—Ñ –ë–∞–Ω–∫",
    website: "https://www.tinkoff.ru/business/ausn/",
    onlineApplication: true
  },
  // ...
]
```

## –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥

### –ü—Ä–æ–≤–µ—Ä–∫–∞ –∞–∫—Ç—É–∞–ª—å–Ω–æ—Å—Ç–∏ –¥–∞–Ω–Ω—ã—Ö

```javascript
// –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –¥–∞—Ç—É –ø–æ—Å–ª–µ–¥–Ω–µ–≥–æ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è
async function checkDataFreshness() {
  const res = await fetch('/data/regions.json')
  const json = await res.json()
  
  const lastUpdate = new Date(json.lastUpdate)
  const daysSinceUpdate = (Date.now() - lastUpdate.getTime()) / (1000 * 60 * 60 * 24)
  
  if (daysSinceUpdate > 14) {
    console.warn('–î–∞–Ω–Ω—ã–µ —É—Å—Ç–∞—Ä–µ–ª–∏! –û–±–Ω–æ–≤–ª–µ–Ω–æ:', json.lastUpdate)
  }
}
```

### –õ–æ–≥–∏ –ø–∞—Ä—Å–µ—Ä–∞

–õ–æ–≥–∏ –ø–∞—Ä—Å–µ—Ä–∞ –Ω–∞—Ö–æ–¥—è—Ç—Å—è –≤ `ausn-parser/logs/`:

```bash
# –ü—Ä–æ—Å–º–æ—Ç—Ä –ø–æ—Å–ª–µ–¥–Ω–µ–≥–æ –ª–æ–≥–∞
cat D:\DATA\ausn-parser\logs\parser-2025-10-11.log
```

## Troubleshooting

### –î–∞–Ω–Ω—ã–µ –Ω–µ –æ–±–Ω–æ–≤–ª—è—é—Ç—Å—è

1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, –∑–∞–ø—É—â–µ–Ω –ª–∏ –ø–∞—Ä—Å–µ—Ä:
   ```bash
   cd D:\DATA\ausn-parser
   pm2 status ausn-parser
   ```

2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏:
   ```bash
   cat logs/parser-*.log
   ```

3. –ó–∞–ø—É—Å—Ç–∏—Ç–µ —Ä—É—á–Ω–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ:
   ```bash
   npm run parse:once
   ```

### –û—à–∏–±–∫–∞ 404 –Ω–∞ /data/regions.json

1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –Ω–∞–ª–∏—á–∏–µ —Ñ–∞–π–ª–æ–≤:
   ```bash
   dir D:\DATA\AUSN_V1\public\data
   ```

2. –°–∫–æ–ø–∏—Ä—É–π—Ç–µ –¥–∞–Ω–Ω—ã–µ:
   ```bash
   npm run update-data
   ```

### –°—Ç–∞—Ä—ã–µ –¥–∞–Ω–Ω—ã–µ –≤ –±—Ä–∞—É–∑–µ—Ä–µ

1. –û—á–∏—Å—Ç–∏—Ç–µ –∫—ç—à –±—Ä–∞—É–∑–µ—Ä–∞ (Ctrl+Shift+Delete)
2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ query –ø–∞—Ä–∞–º–µ—Ç—Ä `?v=` –≤ URL

## CI/CD –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è

### –í GitHub Actions

```yaml
name: Update AUSN Data

on:
  schedule:
    - cron: '0 3 * * 0'  # –ö–∞–∂–¥–æ–µ –≤–æ—Å–∫—Ä–µ—Å–µ–Ω—å–µ –≤ 03:00
  workflow_dispatch:

jobs:
  update-data:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v3
      
      - name: Setup Node.js
        uses: actions/setup-node@v3
        with:
          node-version: '18'
      
      - name: Run parser
        run: |
          cd ausn-parser
          npm install
          npm run parse:once
      
      - name: Copy data
        run: npm run update-data
      
      - name: Commit changes
        run: |
          git config user.name "AUSN Parser Bot"
          git config user.email "bot@ausn.ru"
          git add public/data/
          git commit -m "chore: update AUSN data"
          git push
```

## –†–∞–∑—Ä–∞–±–æ—Ç–∫–∞

### –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –Ω–æ–≤—ã—Ö –ø–æ–ª–µ–π

1. –û–±–Ω–æ–≤–∏—Ç–µ —Å–µ–ª–µ–∫—Ç–æ—Ä—ã –≤ `ausn-parser/src/config.js`
2. –û–±–Ω–æ–≤–∏—Ç–µ –ø–∞—Ä—Å–µ—Ä –≤ `ausn-parser/src/parsers/*.js`
3. –û–±–Ω–æ–≤–∏—Ç–µ TypeScript —Ç–∏–ø—ã –≤ –ø—Ä–æ–µ–∫—Ç–µ
4. –û–±–Ω–æ–≤–∏—Ç–µ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é

### –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –ª–æ–∫–∞–ª—å–Ω–æ

```bash
# 1. –¢–µ—Å—Ç –ø–∞—Ä—Å–µ—Ä–∞
cd D:\DATA\ausn-parser
npm run parse:once

# 2. –ü—Ä–æ–≤–µ—Ä–∫–∞ –¥–∞–Ω–Ω—ã—Ö
cat output/regions.json

# 3. –ö–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ
cd D:\DATA\AUSN_V1
npm run update-data

# 4. –ü—Ä–æ–≤–µ—Ä–∫–∞ –≤ –±—Ä–∞—É–∑–µ—Ä–µ
curl http://localhost:3000/data/regions.json
```

## –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –ø–∞—Ä—Å–µ—Ä–∞

–ü–æ–ª–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –º–æ–¥—É–ª—è –ø–∞—Ä—Å–µ—Ä–∞ –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –≤:
- `D:\DATA\ausn-parser\README.md`

## –ö–æ–Ω—Ç–∞–∫—Ç—ã

–ü—Ä–∏ –≤–æ–∑–Ω–∏–∫–Ω–æ–≤–µ–Ω–∏–∏ –ø—Ä–æ–±–ª–µ–º —Å –ø–∞—Ä—Å–µ—Ä–æ–º –æ–±—Ä–∞—â–∞–π—Ç–µ—Å—å –∫ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏ –∏–ª–∏ –ø—Ä–æ–≤–µ—Ä—è–π—Ç–µ –ª–æ–≥–∏.

