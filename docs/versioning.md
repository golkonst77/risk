# Система версионирования

## Обзор

В проекте реализована система версионирования для отслеживания версий и билдов на продакшене.

## Структура версии

Версия состоит из трех частей: `MAJOR.MINOR.PATCH`

- **MAJOR** - крупные изменения, ломающие обратную совместимость
- **MINOR** - новые функции, обратно совместимые
- **PATCH** - исправления багов, обратно совместимые

## Файлы

### `public/version.json`
Основной файл с информацией о версии:
```json
{
  "version": "1.0.2",
  "build": "102", 
  "date": "2025-09-04",
  "description": "Описание изменений"
}
```

### `components/version-info.tsx`
React компонент для отображения версии в подвале сайта.

### `app/api/version/route.ts`
API endpoint для получения версии программно. Источник — `public/version.json`.

## Команды

### Обновление версии
```bash
# Патч версия (исправления)
npm run version:patch

# Минор версия (новые функции)
npm run version:minor

# Мажор версия (крупные изменения)
npm run version:major
```

## Отображение

Версия отображается в подвале сайта (данные из `public/version.json`) в формате:
```
v1.0.2 • build 102 • 2025-09-04
```

## API

### GET /api/version
Возвращает информацию о версии в JSON формате.

## Автоматизация

При каждом обновлении версии (`scripts/update-version.cjs`):
1. Автоматически обновляется номер билда
2. Устанавливается текущая дата
3. Можно добавить описание изменений

## Примеры использования

### Обновление после исправления бага
```bash
npm run version:patch
# Версия: 1.0.2 → 1.0.3
# Билд: 102 → 103
```

### Обновление после добавления функции
```bash
npm run version:minor
# Версия: 1.0.2 → 1.1.0
# Билд: 102 → 110
```

### Обновление после крупных изменений
```bash
npm run version:major
# Версия: 1.1.0 → 2.0.0
# Билд: 110 → 200
```
